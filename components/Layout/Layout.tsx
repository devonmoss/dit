import React, { ReactNode, useState, useEffect } from 'react';
import Head from 'next/head';
import TopMenu from '../TopMenu/TopMenu';
import AuthPanel from '../AuthPanel/AuthPanel';
import styles from './Layout.module.css';

interface LayoutProps {
  children: ReactNode;
  title?: string;
}

const Layout: React.FC<LayoutProps> = ({
  children,
  title = 'Continuous Wave'
}) => {
  const [isClient, setIsClient] = useState(false);
  
  useEffect(() => {
    setIsClient(true);
  }, []);
  
  return (
    <div className={styles.container}>
      <Head>
        <title>{title}</title>
        <meta name="description" content="The dopest way to learn Morse code" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        {isClient && (
          <div className={styles.logoContainer}>
            <svg width="100" height="54" viewBox="0 0 1024 544" xmlns="http://www.w3.org/2000/svg">
              <style>
                {`
                  path {
                    fill: var(--accent-color, #00e676);
                  }
                `}
              </style>
              <path opacity="1.000000" stroke="none" 
                d="
                M627.488953,541.674438 
                C592.564148,545.266846 562.266418,534.768433 535.407959,513.725952 
                C512.352417,495.662842 495.321655,472.551697 481.356873,447.010101 
                C467.010101,420.769775 456.204224,393.060242 446.667633,364.792023 
                C437.103149,336.441071 428.924927,307.677094 421.038574,278.834747 
                C412.627563,248.073547 404.766266,217.151367 394.742157,186.864334 
                C386.799530,162.866379 378.607056,138.922943 365.833038,116.900490 
                C360.881775,108.364441 355.165222,100.381592 348.296936,93.277962 
                C325.274536,69.466751 287.669067,73.955467 270.058502,102.551437 
                C260.734863,117.691132 254.265762,134.049637 247.744629,150.429031 
                C235.676270,180.741577 226.791855,212.140488 216.290573,242.988174 
                C208.213547,266.714600 198.595917,289.685394 183.474197,309.970154 
                C161.813370,339.026672 133.018280,355.016479 96.837860,358.100189 
                C77.523674,359.746429 58.210529,359.018707 38.897884,359.062408 
                C34.152790,359.073151 29.320681,357.867310 24.676142,356.655273 
                C17.031368,354.660309 12.153065,349.334473 10.830068,341.740967 
                C8.972776,331.080811 8.158231,320.252289 11.635560,309.666595 
                C14.515291,300.900146 21.839806,295.759796 30.991085,294.744568 
                C49.420200,292.700165 67.903191,293.054932 86.378418,292.862915 
                C92.266388,292.801727 97.961777,291.540039 103.528091,289.903015 
                C118.685791,285.445160 128.760666,274.798340 136.422867,261.641327 
                C145.612595,245.861328 151.058685,228.527298 156.767624,211.298065 
                C168.413086,176.152832 177.424744,140.124069 192.347046,106.074036 
                C202.206512,83.576546 214.672348,62.776886 232.316162,45.566284 
                C258.304443,20.216057 289.182465,8.142274 325.859497,12.524134 
                C362.573914,16.910461 389.570587,36.712391 411.088959,65.479256 
                C428.222931,88.384811 439.977722,114.093674 450.012756,140.636673 
                C463.967712,177.547836 473.148285,215.890518 483.359528,253.919357 
                C495.390778,298.726074 507.914307,343.380615 526.152222,386.175659 
                C535.786133,408.781494 546.996704,430.457611 563.302246,449.170990 
                C573.977234,461.422363 586.401062,471.378052 602.567017,474.227264 
                C621.602112,477.582153 639.280518,473.559540 654.208252,460.185944 
                C670.105042,445.944122 681.101501,428.081390 691.899292,410.057922 
                C704.312134,389.338745 716.324280,368.348480 732.027283,349.841553 
                C754.151306,323.767090 781.236206,305.618042 815.255371,299.171936 
                C822.724426,297.756622 830.314087,296.630798 838.053772,296.676636 
                C868.049805,296.854340 898.048706,296.605255 928.043945,296.839417 
                C937.997192,296.917084 947.518372,298.902435 952.152039,309.445312 
                C953.341492,312.151886 954.193542,315.122681 954.563904,318.052582 
                C955.888916,328.532959 956.087158,338.979126 951.719727,348.947662 
                C949.008118,355.136871 943.948914,357.930695 937.518066,359.439026 
                C924.317017,362.535248 910.979797,360.909546 897.710999,361.148468 
                C880.384766,361.460480 863.039368,360.877655 845.719482,361.334991 
                C821.977539,361.961945 801.752991,370.370239 786.247620,389.170868 
                C775.813599,401.822235 767.002136,415.507233 758.544617,429.468231 
                C747.585327,447.558960 736.986511,465.873657 723.818420,482.525818 
                C705.859192,505.236786 684.855835,524.055847 657.362915,534.505920 
                C647.888306,538.107178 638.152588,540.916382 627.488953,541.674438 
                z"/>
              <path opacity="1.000000" stroke="none" 
                d="
                M1001.231506,246.476929 
                C995.918701,248.941498 990.606567,249.355026 985.271118,249.351700 
                C966.117554,249.339737 946.962952,249.324707 927.811035,249.106232 
                C921.665161,249.036133 915.540527,248.354736 909.823730,245.654465 
                C902.081848,241.997635 897.120483,235.998886 895.129700,227.773010 
                C891.467834,212.642151 891.464783,197.361954 895.079651,182.281158 
                C897.713440,171.293198 908.503967,163.048340 920.260803,162.923569 
                C944.074524,162.670807 967.896545,162.681427 991.708984,163.018387 
                C1005.192627,163.209183 1016.319458,173.158905 1017.742920,187.501129 
                C1019.002014,200.187592 1019.120911,213.123260 1017.317078,225.857193 
                C1015.957092,235.457932 1010.301453,242.170761 1001.231506,246.476929 
                z"/>
              <path opacity="1.000000" stroke="none" 
                d="
                M783.000000,248.115234 
                C769.881165,247.638672 757.238281,249.001724 744.634460,246.522324 
                C731.130188,243.865768 721.670593,234.468735 720.960510,220.775192 
                C720.340088,208.811493 720.220703,196.795456 721.742249,184.851395 
                C723.057129,174.529846 730.867554,165.743378 741.374939,163.248062 
                C747.023926,161.906540 752.735718,160.835220 758.656982,160.969910 
                C775.974304,161.363831 793.310303,160.404190 810.619507,161.593536 
                C826.185181,162.663101 837.036743,171.241806 840.534058,188.529907 
                C843.241882,201.915207 841.457886,214.742813 838.374573,227.518265 
                C835.837585,238.030380 828.367249,243.960159 817.859192,246.320236 
                C806.488586,248.874008 794.968994,247.848404 783.000000,248.115234 
                z"/>
              <path opacity="1.000000" stroke="none" 
                d="
                M615.023804,251.292130 
                C593.192810,250.891235 573.635132,237.595520 567.148071,219.065002 
                C557.905212,192.662552 571.652344,165.953888 598.754089,157.349030 
                C622.303284,149.872101 647.685669,159.993225 658.565247,179.305222 
                C673.614746,206.019104 662.285156,237.294922 633.573242,248.188522 
                C627.742065,250.400925 621.711487,251.343262 615.023804,251.292130 
                z"/>
            </svg>
          </div>
        )}
        <AuthPanel />
        <TopMenu />
        <div className={styles.content}>
          {children}
        </div>
      </main>
    </div>
  );
};

export default Layout; 
